---
interface Props {
  title: string;
  url: string;
}

const { title, url } = Astro.props;
const { pathname } = Astro.url;

const normalizeUrl = (url: string) => url.replace(/\/$/, "");
const normalizedUrl = normalizeUrl(url);
const normalizedPathname = normalizeUrl(pathname);

const isActive =
  normalizedPathname === normalizedUrl ||
  (normalizedUrl !== "/" && normalizedPathname.startsWith(normalizedUrl));
---

<li>
  {
    isActive ? (
      <a
        href={url}
        class="text-sm font-medium text-black transition-colors duration-300 hover:text-black dark:text-white dark:hover:text-white"
      >
        {title}
      </a>
    ) : (
      <a
        href={url}
        class="text-sm font-medium text-gray-500 transition-colors duration-300 hover:text-black dark:text-gray-500 dark:hover:text-white"
      >
        {title}
      </a>
    )
  }
</li>
